import{ai as r}from"./B2myL-Op.js";import{c as s}from"./94wOsH-7.js";function u(){const{subscribe:l,set:o,update:a}=r({phoneNumber:null,isConnected:!1,xUsername:null,xName:null,loading:!0});return{subscribe:l,init:async()=>{const n=localStorage.getItem("phoneNumber");if(n){a(t=>({...t,phoneNumber:n,loading:!0}));const e=await s(n);a(t=>({...t,isConnected:e.authenticated,xUsername:e.x_username||null,xName:e.x_name||null,loading:!1}))}else a(e=>({...e,loading:!1}))},setPhone:n=>{localStorage.setItem("phoneNumber",n),a(e=>({...e,phoneNumber:n}))},disconnect:()=>{localStorage.removeItem("phoneNumber"),o({phoneNumber:null,isConnected:!1,xUsername:null,xName:null,loading:!1})}}}const i=u();export{i as a};
