const t="http://localhost:8000";async function s(n){try{const e=await fetch(`${t}/api/users/check?phone=${encodeURIComponent(n)}`);return e.ok?await e.json():{authenticated:!1}}catch(e){return console.error("Failed to check user auth:",e),{authenticated:!1}}}async function r(n){const e=await fetch(`${t}/api/conversations/?phone=${encodeURIComponent(n)}`);if(!e.ok)throw new Error("Failed to fetch conversations");return e.json()}async function a(n,e){const o=await fetch(`${t}/api/conversations/${n}?phone=${encodeURIComponent(e)}`);if(!o.ok)throw new Error("Failed to fetch conversation");return o.json()}async function c(n,e){const o=await fetch(`${t}/api/conversations/${n}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:"user",content:e,source:"text",generate_reply:!0})});if(!o.ok)throw new Error("Failed to send message");return o.json()}export{a,s as c,r as g,c as s};
